{"version":3,"file":"main-ny8msnYX.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\n  // --- 1. ИНИЦИАЛИЗАЦИЯ ---\n  // Регистрируем плагины GSAP\n  gsap.registerPlugin(ScrollTrigger);\n\n  // Иконки\n  lucide.createIcons();\n\n  // Плавный скролл (Lenis)\n  const lenis = new Lenis({\n      duration: 1.2,\n      smooth: true,\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // --- 2. CANVAS ФОН (ЧАСТИЦЫ) ---\n  const canvas = document.getElementById('hero-canvas');\n  if (canvas) {\n      const ctx = canvas.getContext('2d');\n      let width, height;\n      const particles = [];\n\n      function resize() {\n          width = canvas.width = window.innerWidth;\n          height = canvas.height = window.innerHeight;\n      }\n      window.addEventListener('resize', resize);\n      resize();\n\n      class Particle {\n          constructor() {\n              this.x = Math.random() * width;\n              this.y = Math.random() * height;\n              this.vx = (Math.random() - 0.5) * 0.5;\n              this.vy = (Math.random() - 0.5) * 0.5;\n              this.size = Math.random() * 2;\n              this.alpha = Math.random() * 0.5 + 0.1;\n          }\n          update() {\n              this.x += this.vx;\n              this.y += this.vy;\n              if (this.x < 0) this.x = width;\n              if (this.x > width) this.x = 0;\n              if (this.y < 0) this.y = height;\n              if (this.y > height) this.y = 0;\n          }\n          draw() {\n              ctx.fillStyle = `rgba(99, 102, 241, ${this.alpha})`;\n              ctx.beginPath();\n              ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n              ctx.fill();\n          }\n      }\n\n      // Генерируем 100 частиц\n      for (let i = 0; i < 100; i++) {\n          particles.push(new Particle());\n      }\n\n      function animateCanvas() {\n          ctx.clearRect(0, 0, width, height);\n          particles.forEach(p => { p.update(); p.draw(); });\n          requestAnimationFrame(animateCanvas);\n      }\n      animateCanvas();\n  }\n\n  // --- 3. АНИМАЦИИ ИНТЕРФЕЙСА (GSAP) ---\n\n  // А. Текстовые заголовки (побуквенно)\n  document.querySelectorAll('.reveal-text').forEach((element) => {\n      if (!element.innerText.trim()) return; // Пропуск пустых\n\n      const text = new SplitType(element, { types: 'chars, words' });\n\n      gsap.from(text.chars, {\n          scrollTrigger: {\n              trigger: element,\n              start: 'top 85%',\n              toggleActions: 'play none none reverse'\n          },\n          y: 20,\n          opacity: 0,\n          duration: 0.8,\n          stagger: 0.02,\n          ease: 'power3.out'\n      });\n  });\n\n  // Б. Списки и Сетки (Stagger эффект) - ИСПРАВЛЕНО\n  // Используем индивидуальный триггер для каждого элемента\n  const staggerItems = document.querySelectorAll('[data-anim=\"stagger\"]');\n  staggerItems.forEach((item, index) => {\n      gsap.fromTo(item,\n          { opacity: 0, y: 50 }, // Начальное состояние\n          {\n              opacity: 1,\n              y: 0,\n              duration: 0.8,\n              ease: \"power3.out\",\n              // Небольшая задержка для эффекта \"лесенки\" внутри одной строки\n              delay: (index % 3) * 0.1,\n              scrollTrigger: {\n                  trigger: item,\n                  start: \"top 90%\", // Срабатывает чуть раньше\n                  toggleActions: \"play none none reverse\"\n              }\n          }\n      );\n  });\n\n  // В. Одиночные элементы (Fade)\n  document.querySelectorAll('[data-anim=\"fade\"]').forEach(el => {\n      gsap.fromTo(el,\n          { opacity: 0 },\n          {\n              opacity: 1,\n              duration: 1,\n              scrollTrigger: {\n                  trigger: el,\n                  start: \"top 90%\",\n                  toggleActions: \"play none none reverse\"\n              }\n          }\n      );\n  });\n\n  // Г. Хелпер для направленных анимаций (Slide/Zoom)\n  const animateElem = (selector, fromVars) => {\n      document.querySelectorAll(selector).forEach(el => {\n          gsap.fromTo(el,\n              { opacity: 0, ...fromVars },\n              {\n                  opacity: 1,\n                  x: 0,\n                  y: 0,\n                  scale: 1,\n                  duration: 1,\n                  ease: \"power2.out\",\n                  scrollTrigger: {\n                      trigger: el,\n                      start: \"top 85%\",\n                      toggleActions: \"play none none reverse\"\n                  }\n              }\n          );\n      });\n  };\n\n  // Запуск анимаций\n  animateElem('[data-anim=\"slide-up\"]', { y: 50 });\n  animateElem('[data-anim=\"slide-right\"]', { x: -50 });\n  animateElem('[data-anim=\"slide-left\"]', { x: 50 });\n  animateElem('[data-anim=\"zoom-in\"]', { scale: 0.9 });\n\n\n  // --- 4. МОБИЛЬНОЕ МЕНЮ ---\n  const burgerBtn = document.querySelector('.header__burger');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const menuLinks = document.querySelectorAll('.mobile-menu__link');\n\n  if(burgerBtn) {\n      burgerBtn.addEventListener('click', () => {\n          const isActive = burgerBtn.classList.toggle('is-active');\n          mobileMenu.classList.toggle('is-active');\n\n          // Блокируем/разблокируем скролл Lenis\n          if (isActive) {\n              lenis.stop();\n              document.body.style.overflow = 'hidden';\n          } else {\n              lenis.start();\n              document.body.style.overflow = '';\n          }\n      });\n\n      menuLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              burgerBtn.classList.remove('is-active');\n              mobileMenu.classList.remove('is-active');\n              lenis.start();\n              document.body.style.overflow = '';\n          });\n      });\n  }\n\n  // --- 5. КОНТАКТНАЯ ФОРМА ---\n  const form = document.getElementById('leadForm');\n  if (form) {\n      const captchaLabel = document.getElementById('captchaLabel');\n      const captchaInput = document.getElementById('captchaInput');\n      const successMsg = document.getElementById('formSuccess');\n\n      // Генерация примера\n      const num1 = Math.floor(Math.random() * 10);\n      const num2 = Math.floor(Math.random() * 10);\n      const sum = num1 + num2;\n      if(captchaLabel) captchaLabel.innerText = `Сколько будет ${num1} + ${num2}?`;\n\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          // Сброс классов ошибок\n          document.querySelectorAll('.form-group').forEach(g => g.classList.remove('error'));\n\n          let isFormValid = true;\n\n          // Получаем значения\n          const nameVal = form.name.value.trim();\n          const emailVal = form.email.value.trim();\n          const phoneVal = form.phone.value.trim();\n          const captchaVal = parseInt(captchaInput.value);\n\n          // Проверки\n          if (nameVal.length < 2) {\n              form.name.parentElement.classList.add('error');\n              isFormValid = false;\n          }\n          // Простой Regex для email\n          if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(emailVal)) {\n              form.email.parentElement.classList.add('error');\n              isFormValid = false;\n          }\n          // Минимум 10 цифр\n          if (phoneVal.replace(/[^0-9]/g, '').length < 10) {\n              form.phone.parentElement.classList.add('error');\n              isFormValid = false;\n          }\n          // Капча\n          if (captchaVal !== sum) {\n              captchaInput.parentElement.classList.add('error');\n              isFormValid = false;\n          }\n\n          // Если все ок\n          if (isFormValid) {\n              const btn = form.querySelector('button');\n              const originalText = btn.innerText;\n              btn.innerText = 'Отправка...';\n              btn.disabled = true;\n\n              // Имитация отправки\n              setTimeout(() => {\n                  btn.style.display = 'none';\n                  successMsg.classList.add('is-visible');\n                  form.reset();\n                  // Вернуть капчу или кнопку можно тут, если нужно\n              }, 1500);\n          }\n      });\n  }\n\n  // --- 6. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptBtn = document.getElementById('acceptCookie');\n\n  if (cookiePopup && !localStorage.getItem('cookieAccepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('is-visible');\n      }, 2000);\n  }\n\n  if (acceptBtn) {\n      acceptBtn.addEventListener('click', () => {\n          localStorage.setItem('cookieAccepted', 'true');\n          cookiePopup.classList.remove('is-visible');\n      });\n  }\n});"],"names":["lenis","raf","time","canvas","resize","width","height","animateCanvas","ctx","particles","p","Particle","i","element","text","item","index","el","animateElem","selector","fromVars","burgerBtn","mobileMenu","menuLinks","isActive","link","form","captchaLabel","captchaInput","successMsg","num1","num2","sum","e","g","isFormValid","nameVal","emailVal","phoneVal","captchaVal","btn","cookiePopup","acceptBtn"],"mappings":"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"}